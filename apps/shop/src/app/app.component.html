<header>
  <nav
    class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
    <div class="container">
      <a
        class="navbar-brand"
        href="/">
        Angular Shop
      </a>
      <button
        class="navbar-toggler"
        type="button"
        (click)="isMenuCollapsed = !isMenuCollapsed">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div
        class="navbar-collapse collapse d-sm-inline-flex justify-content-between"
        [ngbCollapse]="isMenuCollapsed">
        <ul class="navbar-nav flex-grow-1">
          <li class="nav-item">
            <a
              class="nav-link text-dark"
              [routerLink]="['/products']">
              Products
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link text-dark"
              [routerLink]="['/cart']">
              Cart
            </a>
          </li>
          @if (isUserAuthenticated$ | async) {
          <li class="nav-item">
            <a
              class="nav-link text-dark"
              [routerLink]="['/orders']">
              Orders
            </a>
          </li>
          }
        </ul>

        <ul class="navbar-nav align-items-center">
          @if (isUserAuthenticated$ | async) {
          <li class="nav-item">
            <button
              class="btn btn-dark btn-sm"
              title="Logout"
              (click)="logout()">
              Logout
            </button>
          </li>
          } @else {
          <li class="nav-item">
            <button
              class="btn btn-dark btn-sm"
              title="Login"
              (click)="login()">
              Login
            </button>
          </li>
          }
        </ul>
      </div>
    </div>
  </nav>
</header>

<main>
  <div class="container">
    <router-outlet />
  </div>
</main>

<footer class="footer border-top">
  <div class="container d-flex flex-wrap justify-content-between align-items-center">
    <span class="text-muted">Angular Shop</span>
    <ul class="nav col-md-4 d-flex justify-content-end list-unstyled">
      <li class="ms-3">
        <a
          class="text-muted"
          target="_blank"
          href="https://github.com/hofmannjan1/nx-angular-dotnet-oidc">
          <img
            src="assets/github-mark.svg"
            width="24" />
        </a>
      </li>
    </ul>
  </div>
</footer>
